import{usePageFrontmatter as e,usePageLang as t,withBase as i}from"@vuepress/client";import{Waline as a}from"@waline/client/dist/component.mjs";import{pageviewCount as l}from"@waline/client/dist/pageview.mjs";import{defineComponent as n,computed as o,onMounted as r,watch as m,h as s}from"vue";import{useRoute as p}from"vue-router";import{useLocaleConfig as c}from"vuepress-shared/lib/client";import"@waline/client/dist/waline.css";import"../styles/waline.scss";const u=COMMENT_OPTIONS,v=WALINE_LOCALES,w=Boolean(u.serverURL);!1!==u.metaIcon&&import("@waline/client/dist/waline-meta.css");var d=n({name:"WalineComment",setup(){const n=p(),d=e(),f=t(),h=c(v);let g;const L=o((()=>{if(!w)return!1;const e=!1!==u.comment,t=d.value.comment;return Boolean(t)||!1!==e&&!1!==t})),j=o((()=>{if(!w)return!1;const e=!1!==u.pageview,t=d.value.pageview;return Boolean(t)||!1!==e&&!1!==t})),C=o((()=>({lang:"zh-CN"===f.value?"zh-CN":"en",locale:{...h.value,...u.locale||{}},emoji:["//unpkg.com/@waline/emojis@1.1.0/weibo","//unpkg.com/@waline/emojis@1.1.0/bilibili"],dark:"html.dark",...u,path:i(n.path)})));return r((()=>{m((()=>n.path),(()=>{g?.(),j.value&&setTimeout((()=>{g=l({serverURL:u.serverURL,path:i(n.path)})}),u.delay||500)}),{immediate:!0})})),()=>L.value?s("div",{class:"waline-wrapper"},w?s(a,C.value):[]):null}});export{d as default};
//# sourceMappingURL=Waline.js.map
