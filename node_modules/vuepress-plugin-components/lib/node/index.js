import{useSassPalettePlugin as o}from"vuepress-plugin-sass-palette";import{Logger as n,getLocales as t,addViteSsrNoExternal as e}from"vuepress-shared";import{ensureEndingSlash as s}from"@vuepress/shared";import{getDirname as p,path as i}from"@vuepress/utils";const c={"/en/":{backToTop:"Back to top"},"/zh/":{backToTop:"返回顶部"},"/zh-tw/":{backToTop:"返回頂部"},"/de-at/":{backToTop:"Zurück nach oben."},"/vi/":{backToTop:"Trở lại đầu trang"},"/uk/":{backToTop:"Повернутися до початку"},"/ru/":{backToTop:"Вернуться к началу"},"/br/":{backToTop:"Volta ao topo"},"/pl/":{backToTop:"Wróć na górę"},"/sk/":{backToTop:"Back to top"},"/fr/":{backToTop:"Back to top"},"/es/":{backToTop:"Volver arriba"}},a=new n("vuepress-plugin-components"),r=(o="")=>"fontawesome"===o||o.match(/^(?:https:)?\/\/kit\.fontawesome\.com\//)?"fas fa-":"iconfont"===o||o.match(/^(?:https:)?\/\/at\.alicdn\.com\/t\//)?"iconfont icon-":"",m=p(import.meta.url),T=s(i.resolve(m,"../client")),f=["Badge","CodePen","FontIcon","PDF","StackBlitz","YouTube"],u=(o,n)=>{let t="",e="",s="",p="",i=!1,c=!1,r=!1;return n.components.forEach((o=>{if(f.includes(o)&&(t+=`import ${o} from "${T}components/${o}.js";\n`,e+=`app.component("${o}", ${o});\n`),"FontIcon"===o&&n.iconAssets){const o=(o=>{if("fontawesome"===o)return{type:"script",content:"https://kit.fontawesome.com/ca37c296c5.js"};if("iconfont"===o)return{type:"style",content:'@import url("//at.alicdn.com/t/font_2410206_a0xb9hku9iu.css");'};const n=o.match(/^(?:https?:)?\/\//g)?o:`//${o}`;return n.endsWith(".css")?{type:"style",content:`@import url("${o}");`}:n.endsWith(".js")?{type:"script",content:o}:(a.error(`Can not recognize icon link: "${o}"`),null)})(n.iconAssets);if(o){const{type:n,content:t}=o;"script"===n?(c=!0,s+=`useScriptTag(\`${t}\`);\n`):(r=!0,s+=`useStyleTag(\`${t}\`, { id: "icon-assets" });\n`)}}})),"string"==typeof n.addThis&&(c=!0,s+=`useScriptTag(\`//s7.addthis.com/js/300/addthis_widget.js#pubid=${n.addThis}\`);\n`),n.backToTop&&(i=!0,t+=`import BackToTop from "${T}components/BackToTop.js";\n`,p+=`() => h(BackToTop, { threshold: ${"number"==typeof n.backToTop?n.backToTop:300} }),\n`),o.writeTemp("components/config.js",`${c?`import { useScriptTag } from "${T}composables/index.js";\n`:""}${r?`import { useStyleTag } from "${T}composables/index.js";\n`:""}${i?'import { h } from "vue";\n':""}import { defineClientConfig } from "@vuepress/client";\n${t}\n\nexport default defineClientConfig({\n  enhance: ({ app }) => {\n${e.split("\n").map((o=>`    ${o}`)).join("\n")}\n  },\n  setup: () => {\n${s.split("\n").map((o=>`    ${o}`)).join("\n")}\n  },\n  rootComponents: [\n${p.split("\n").map((o=>`    ${o}`)).join("\n")}\n  ],\n});`)},l=n=>s=>(s.env.isDebug&&a.info(`Options: ${n.toString()}`),o(s,{id:"hope"}),{name:"vuepress-plugin-components",define:{BACK_TO_TOP_LOCALES:t({app:s,name:"backToTop",default:c,config:n.backToTopLocales}),ICON_PREFIX:"string"==typeof n.iconPrefix?n.iconPrefix:r(n.iconAssets)},extendsBundlerOptions:(o,n)=>{e({app:n,config:o},"vuepress-shared")},clientConfigFile:o=>u(o,n)});export{c as backToTopLocales,l as componentsPlugin,l as default};
//# sourceMappingURL=index.js.map
